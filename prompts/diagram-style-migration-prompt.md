# 图表风格迁移

基于用户提供的参考图进行风格迁移：输入参考图 + 内容描述（或项目路径），生成与参考图视觉风格一致（配色、布局、形状、字体等）的新图表，输出为 .drawio 文件。内容可来自用户描述或当前项目。

## 适用场景

- 用户上传或贴出一张图，并希望「按这张图的风格」画一张新图
- 内容来源可以是：**当前项目/代码**，或**用户提供的文字描述**（如「画一个三层系统：前端 Vue、后端 Spring、数据库 MySQL」）
- 用户提到「风格迁移」「按这个风格画」「参考这张图的样式」「照着这个排版/配色画」
- 需要让多张图在论文或文档中保持统一的视觉风格

## Prompt

```
# Role
你是一位精通 Draw.io 的技术文档专家。你能够分析参考图的视觉风格（配色、布局、形状、字体），并结合用户提供的内容或当前项目，生成风格一致的新图表。

# Task
根据我提供的【参考图描述/图片】和【内容来源】（用户描述或项目信息），生成一张与参考图风格一致的新图表。内容来自用户描述或当前项目，不照抄参考图中的业务名称。

# Input 方式

1. **参考图**（必选）：图片或详细描述（配色、布局、形状、字体等）
2. **内容描述**（二选一）：用户用文字描述新图应包含的节点、层次、关系等
3. **项目路径**（二选一）：从当前项目/代码中抽取内容（技术栈、架构、数据结构、E-R 等）

若仅提供参考图而无内容，需追问用户希望新图展示什么内容。

# Workflow

## Step 1：分析参考图风格
从参考图中提取：
- **配色**：主色、辅色、强调色、背景色、文字色
- **布局**：整体方向（自上而下/自左向右/中心发散）、分层/分泳道、分组框
- **节点与连线**：形状、大小、圆角、箭头、标签
- **字体**：风格、相对字号

整理为「风格摘要」

## Step 2：获取图表内容

**方式 A：用户文字描述**
- 从用户描述中解析：节点名称、层次划分、依赖/关联关系等
- 若描述模糊，追问补充

**方式 B：当前项目/代码**
- 技术栈图：前端/后端/模型/存储层次及技术
- 系统架构图：客户端、网关、服务、存储、调用关系
- 数据结构图：核心实体、属性、关系
- E-R 图：表/实体、主键、外键、关联类型

确保内容 100% 来自用户描述或项目，不照抄参考图中的业务名称

## Step 3：风格与内容对齐
- 用参考图的布局方向、分组方式组织内容
- 用参考图的配色映射到具体色值
- 节点形状、连线样式与参考图一致

## Step 4：生成 .drawio 文件
生成完整 mxGraph XML，内容来自用户描述或项目，风格来自参考图

# Output Format
1. **风格摘要**：从参考图提取的配色、布局、形状、连线要点

2. **内容来源说明**：说明本图内容来自用户描述或当前项目，图表类型

3. **Draw.io 文件内容**：完整 mxGraph XML

4. **导入与使用说明**

5. **图题与引用建议**（可选）

# Input
【参考图】（图片或详细描述：配色、布局、形状、字体等）：
[在此处粘贴]

【内容来源】二选一填写：
【内容描述】：
[在此处描述新图应包含的节点、层次、关系，如：画一个三层系统，前端 Vue、后端 Spring、数据库 MySQL]

或

【项目路径】：
[在此处填写项目路径，或留空表示当前项目]
```