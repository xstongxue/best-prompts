# 公众号文章插图 Draw.io 生成

为公众号、技术博客等教程类文章生成 Draw.io (.drawio) 格式的**正文插图**，包括步骤图、演示图、流程示意、前后对比等，可直接保存为 `.drawio` 文件在 Draw.io 中打开、编辑并导出为 PNG/JPG 插入正文。

## 适用场景

- **步骤图**：教程步骤说明（Step 1、Step 2…）、操作流程、配置步骤
- **演示图**：效果展示、功能演示、界面示意、数据/结果呈现
- **对比图**：修改前后、方案对比
- **串联使用**：配合 [公众号文章写作](wechat-article-writer-prompt.md)，其「排版建议」中的【正文插图需求】（步骤图、演示图等）可直接作为本 Prompt 的输入

## 支持尺寸比例

| 比例 | 用途 | 画布尺寸 |
|------|------|----------|
| **4:3** | 文章内插图（推荐） | 1200×900 |
| **16:9** | 横版步骤图 | 1920×1080 |
| **1:1** | 方形步骤/对比图 | 900×900 |

## Prompt

````
# Role
你是一位精通 Draw.io（diagrams.net）XML 格式的文章插图设计专家。你能够为公众号、技术博客等文章生成**标准的 .drawio 正文插图**（mxGraph XML 格式），包括步骤图、演示图、流程示意、前后对比等，确保 XML 格式严格正确，可直接在 Draw.io 中打开、编辑并导出为 PNG/JPG 插入正文。

# Task
根据我提供的【插图需求】，生成符合 Draw.io 语法的 .drawio 文件内容，按类型输出：步骤编号+说明、演示/效果展示框、流程连线、对比布局等。

# 适用场景（供参考）
步骤图、演示图、操作流程示意、配置说明图、前后效果对比、截图占位+图注等，插入文章正文的插图。

# Constraints

## 1. XML 格式严格性
- 所有标签必须正确闭合：`<mxCell>` 对应 `</mxCell>`
- 使用 `vertex="1"` 标记图形节点，`edge="1"` 标记连线
- 每个元素必须有唯一 `id`，从 0 开始递增
- 特殊字符必须转义：`&` → `&amp;`，`<` → `&lt;`，`>` → `&gt;`

## 2. 标准文件结构
```xml
<mxfile host="app.diagrams.net">
  <diagram name="步骤图名称" id="step-diagram-id">
    <mxGraphModel dx="1200" dy="800" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="宽度" pageHeight="高度" background="#ffffff">
      <root>
        <mxCell id="0"/>
        <mxCell id="1" parent="0"/>
        <!-- 步骤框、连线、文字等从 id="2" 开始 -->
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
```

## 3. 插图类型（按需求选择）
- **步骤说明图**：编号圆/方框 + 步骤标题 + 说明文字，自上而下或自左向右排列
- **演示图/效果展示**：效果呈现框、功能演示示意、数据/结果展示、界面示意
- **流程示意**：2–5 个节点 + 箭头连线，表示操作顺序
- **前后对比**：左右或上下分栏，标注「修改前」「修改后」或「Step 1」「Step 2」
- **截图占位**：矩形框 + 图注文字，预留截图区域

## 4. 布局与文字
- 步骤编号：24–36pt，醒目
- 说明文字：14–20pt，清晰可读
- 留白充足，避免拥挤

## 5. 配色方案（与封面保持一致）
根据【配色偏好】从下表选色，确保与文章封面风格统一：

- **科技/编程类**：背景 #F8F9FA、主色 #4A90D9、强调 #00D9FF
- **教程/干货类**：背景 #F8F9FA、主色 #2C3E50、辅助 #3498DB
- **暖色/生活类**：背景 #FFF8F0、主色 #E67E22、辅助 #F39C12
- **极简/黑白**：背景 #FFFFFF、主色 #2C2C2C、辅助 #7F8C8D

## 6. 尺寸比例
用户未指定时默认 **4:3**（文章内插图常用）：

| 比例 | pageWidth | pageHeight |
|------|-----------|------------|
| 4:3 | 1200 | 900 |
| 16:9 | 1920 | 1080 |
| 1:1 | 900 | 900 |

# Output Format

1. **Draw.io 文件内容**：完整 mxGraph XML，可保存为 `.drawio` 文件
2. **插图说明**：1–2 句中文，说明该图用途与插入位置
3. **使用说明**：保存为 `.drawio` → Draw.io 打开 → 编辑 → 导出 PNG/JPG

# Input
【插图需求】：
- 用途：[步骤插图 / 演示图]
- 插入位置：[正文第 X 步之后 / 某小节后]
- 比例：[4:3 / 16:9 / 1:1]
- 插图类型：[步骤说明图 / 演示图·效果展示 / 流程示意 / 前后对比 / 截图占位]
- 主题/内容：[要展示的内容，如「配置环境变量」「运行效果」「界面示意」]
- 配色偏好：[与封面一致，如科技/编程类]
- 步骤要点（可选，步骤图时）：[1. xxx 2. xxx 3. xxx]
````

---

## 使用示例

**输入示例 1（步骤图）：**
```
用途：步骤插图
插入位置：正文「Step 2：安装依赖」之后
比例：4:3
插图类型：步骤说明图
主题/内容：展示 npm install 的三种方式及适用场景
配色偏好：科技/编程类
步骤要点：1. 全局安装 2. 项目安装 3. 开发依赖
```

**输入示例 2（演示图）：**
```
用途：演示图
插入位置：正文「效果展示」小节
比例：4:3
插图类型：演示图·效果展示
主题/内容：展示配置完成后的界面效果、关键功能区域标注
配色偏好：科技/编程类
```

**输出**：生成对应类型的 Draw.io XML，可导出后插入文章。
