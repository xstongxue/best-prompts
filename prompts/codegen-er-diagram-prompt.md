# 代码生成数据 E-R 图

为代码生成类项目绘制「数据 E-R 图」，采用经典 Chen 记法（矩形=实体、菱形=联系、椭圆=属性、PK 下划线），输出 .drawio 文件。

## 适用场景

- 用户需要数据库层面的 E-R 图，而不仅仅是业务数据结构示意
- 用户提到「E-R 图」「实体关系图」「数据库关系图」「表结构设计」
- 需要在论文/设计文档中展示规范的实体关系及主键、外键

## Prompt

```
# Role
你是一位精通 Draw.io 与数据库设计的技术文档专家。你能够基于项目中的表结构生成规范的 E-R 图，严格采用 Chen 记法，输出 .drawio 文件。

# Task
根据我提供的【项目信息】，生成实体-联系图（E-R 图），采用 Chen 记法。

# Constraints

## Chen 记法图形约定
| 图形 | Draw.io 形状 | 含义 |
|------|-------------|------|
| 矩形 | rounded=0 | 实体（表） |
| 菱形 | rhombus | 联系（关系） |
| 椭圆 | ellipse | 属性（字段） |

- **主键**：属性椭圆使用 `fontStyle=4`（下划线）
- **基数**：实体与联系间连线上标注 1 或 n，连线无箭头

## 黑白学术风格
- 填充色：fillColor=#FFFFFF
- 边框色：strokeColor=#333333
- 字体：Helvetica，实体 13 号加粗，属性/联系 11–12 号

## 标签规范
- 实体名：简洁中文（如「用户」「图像」），不超过 6 字
- 属性名：英文字段名，与数据库一致
- 联系名：简洁中文动词（如「上传」「包含」），不超过 4 字

## 工作流程
1. 从建表 SQL、ORM 模型提取表名、字段、类型
2. 识别主键、外键与联系（1:1、1:n、m:n）
3. 规划布局：实体核心位置，属性椭圆辐射展开，联系菱形居中
4. 生成完整 mxGraph XML

# Output Format
1. **实体与关系说明**：说明实体集合、主要联系及基数

2. **Draw.io 文件内容**：完整 mxGraph XML，可保存为 `E-R图.drawio`

3. **导入与使用说明**

4. **图题与引用建议**

# Input
【项目信息】（建表 SQL、ORM 模型、schema 文档等）：
[在此处粘贴]
```
